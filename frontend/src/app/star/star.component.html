<ng-template #edit_input>
  <div class="info_card">
    <p class="info_card_header">Star X information:</p>

    <label for="info_name" class="name_header">Name:</label>
    <label for="info_description" class="description_header"
      >Description:</label
    >
    <label for="info_right_ascension" class="right_ascension_header"
      >Right ascension:</label
    >
    <label for="info_declination" class="declination_header"
      >Declination:</label
    >
    <label for="info_apparent_magnitude" class="apparent_magnitude_header"
      >Apparent magnitude:</label
    >
    <label for="info_mass" class="mass_header">Mass:</label>
    <label for="info_radius" class="radius_header">Radius:</label>
    <label for="info_age" class="age_header">Age:</label>
    <input
      #input_name
      type="text"
      class="input_name"
      [value]="edited_star!.name"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />

    <input
      #input_description
      type="text"
      class="input_description"
      [value]="edited_star!.description"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />
    <input
      #input_right_ascension
      type="text"
      class="input_right_ascension"
      [value]="edited_star!.right_ascension"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />
    <input
      #input_declination
      type="text"
      class="input_declination"
      [value]="edited_star!.declination"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />
    <input
      #input_apparent_magnitude
      type="number"
      class="input_apparent_magnitude"
      [value]="edited_star!.apparent_magnitude"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />
    <input
      #input_mass
      type="number"
      class="input_mass"
      [value]="edited_star!.mass"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />
    <input
      #input_radius
      type="number"
      class="input_radius"
      [value]="edited_star!.radius"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />
    <input
      #input_age
      type="number"
      class="input_age"
      id="input_age"
      [value]="edited_star!.age"
      (keydown.enter)="
        edit(
          input_name.value,
          input_description.value,
          input_right_ascension.value,
          input_declination.value,
          input_apparent_magnitude.value,
          input_mass.value,
          input_radius.value,
          input_age.value
        )
      "
    />
  </div>
</ng-template>

<h2>Stars</h2>

<div class="star_window">
  <div class="search">
    <label for="star_name">Star name: </label>
    <input type="text" [(ngModel)]="star_name" id="star_name" />
    <button type="button" (click)="search(star_name)">Search</button>
  </div>

  <ul class="star_list">
    <li *ngFor="let star of star_list">
      <span class="badge">{{ star.star_id || -1 }}</span>
      <p (click)="select(star.star_id)" class="name">{{ star.name }}</p>
    </li>
  </ul>

  <div class="info_card" *ngIf="edited_star === undefined else edit_input">
    <p class="info_card_header">Star X information:</p>

    <label for="info_name" class="name_header">Name:</label>
    <label for="info_description" class="description_header"
      >Description:</label
    >
    <label for="info_right_ascension" class="right_ascension_header"
      >Right ascension:</label
    >
    <label for="info_declination" class="declination_header"
      >Declination:</label
    >
    <label for="info_apparent_magnitude" class="apparent_magnitude_header"
      >Apparent magnitude:</label
    >
    <label for="info_mass" class="mass_header">Mass:</label>
    <label for="info_radius" class="radius_header">Radius:</label>
    <label for="info_age" class="age_header">Age:</label>
    <span class="info_name" id="info_name">{{ selected_star!.name }}</span>
    <span class="info_description" id="info_description">{{
      selected_star!.description
    }}</span>
    <span class="info_right_ascension" id="info_right_ascension">{{
      selected_star!.right_ascension
    }}</span>
    <span class="info_declination" id="info_declination">{{
      selected_star!.declination
    }}</span>
    <span class="info_apparent_magnitude" id="info_apparent_magnitude">{{
      selected_star!.apparent_magnitude
    }}</span>
    <span class="info_mass" id="info_mass">{{ selected_star!.mass }}</span>
    <span class="info_radius" id="info_radius">{{
      selected_star!.radius
    }}</span>
    <span class="info_age" id="info_age">{{ selected_star!.age }}</span>
    <button
      *ngIf="selected_star !== edited_star"
      type="button"
      class="button_edit"
      title="edit star"
      (click)="edited_star = selected_star"
    >
      Edit
    </button>
    <button
      *ngIf="selected_star !== undefined"
      type="button"
      class="delete"
      title="delete star"
      (click)="delete(selected_star)"
    >
      Delete
    </button>
  </div>
</div>
